Andrew's Awesome How To Develop Webdriver README File!

*Disclaimer*
I am not responsible for any self-inflicted injuries you may receive while working
on the Native Events code
*End Disclaimer*


/** Preface **/

All code in this directory does not need to be included in the final Mozmill 
extension. It is just here as a place to keep track of it.


/** How to Develop the C++ Components **/

You'll need to setup a mozmill folder in mozilla central's extension dir.  The
contents of that directory should be all of the normal mozmill extension stuff 
(you'll need to modify the top level Makefile.in if you do so in jar file format),
plus the Makefile.in found here, plus the public folder plus the src folder.

Don't forget to enable the mozmill extension in your mozconfig
(--enable-extensions=default,mozmill)

I ran into a bunch of problems when building:

1) src and public folders not being found.  This is certainly related to me not
having my makefiles set up correctly. My work around was to just copy and paste 
them into the objdir's extension folder manually. Because this worked I didn't
bother trying to fix my Makefile.

2) Several system libraries such as <gdk/gdk.h> could not be found. The build system
was only looking in /usr/include for some reason when the actual header file was
in /usr/include/gtk-2.0. My solution was to add each path to the $CPATH environment
variable globally. If that doesn't work you could also make copies of the header
files you need in the /usr/include dir (ew.. but I couldn't find any alternatives)

Every time you make a change you'll need re-build and copy the components directory
in the XPI which is created in the objdir/dist/xpi-stage directory into your mozmill
git repository (assuming you want to test it out on the command line).  Note you
shouldn't have to re-build Firefox each time.  Running 'make' in the
objdir/extension/mozmill directory should work fine.


/** Javascript Aspect **/

In the controller class you'll notice that events that can be done natively (clicking
etc..) have a fourth useNative parameter.  This should probably be moved to the 
controller constructor, but is per method temporarily for now. The only real addition
is the 'nativeEvents.js' file added to the modules folder.

Assuming you don't care about the editor and only want to test the command line
portion of mozmill you can just edit your JS files as before.  If you do care about
the editor you can use the xpi generated when you run 'make' (don't forget to edit
the JS files stored in M-C first).


/** Closing Remarks **/

If you have any questions about the actual code or stuff not working my e-mail is
halbersa@gmail.com
